<html>
  <meta charset="utf-8">
  <body>
    <div id='qrc'></div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>

    <script type="module">

      const div = document.getElementById('qrc');
      var qrc = new QRCode(div, now.toString());

      function onTick() {
        const now = new Date();
        console.log('tick', now);

        console.log(div.childElementCount);
        if (div.childElementCount > 0) {
          div.children[0].remove();
          div.children[1].remove();
        }

      }

      window.addEventListener("load", () => {
        window.setInterval(onTick, 500);
      })

    </script>
  </body>
</html>


<html>
  <meta charset="utf-8">
  <body>
    <div id='qrc'></div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>

    <script type="module">

      let now = new Date();
      let count = 0;
      const dest = document.getElementById('qrc');

      let qrc = new QRCode(dest, count, {useSVG: true});

      function onTick() {
        const now = new Date();
        console.log('tick', now, count);

        qrc.makeCode(count.toString());
        count++;
      }

      window.addEventListener("load", () => {
        window.setInterval(onTick, 500);
      })

    </script>
  </body>
</html>

